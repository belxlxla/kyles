// Main.jsx
import React, { useEffect, useRef } from 'react';
import '../styles/pages/main.css';

const Main = () => {
  const svgRef = useRef(null);

  useEffect(() => {
    const element = svgRef.current; // ref 현재 값을 변수에 저장

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const svgElements = entry.target.querySelectorAll(
              '.svg-elem-1, .svg-elem-2, .svg-elem-3, .svg-elem-4, .svg-elem-5'
            );
            
            svgElements.forEach(elem => {
              elem.style.animation = 'none';
              void elem.offsetHeight;
              elem.style.animation = '';
            });
          }
        });
      },
      { threshold: 0.5 }
    );

    if (element) {
      observer.observe(element);
    }

    return () => {
      if (element) { // 저장된 변수 사용
        observer.unobserve(element);
      }
    };
  }, []);

  return (
    <div id="main" className="main-wrapper">
      <main className="main-container">
        <div className="content-wrapper">
          <div className="hello-svg" ref={svgRef}>
          <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 600 316" width="600" height="316">
            <path className="st0 svg-elem-1" d="M211.84,306.53c-.24-.24-.47-.59-.59-1.18-.24-.59-.35-1.41-.47-2.59v-.94c0-1.18.12-2.71.24-4.59.24-2,.71-4.71,1.29-8.36.59-3.65,1.41-8.12,2.59-13.53,8.71-41.31,23.42-89.56,43.9-144.53-15.65,1.65-33.78,4.24-54.61,7.77-20.83,3.53-42.49,8.24-64.85,14.12-8.94,23.19-15.89,42.96-20.71,59.32-6.71,22.48-11.3,39.78-13.77,52.14-2.24,11.53-3.41,17.89-3.41,18.83v.12c-.24,1.18-.82,2.12-1.65,2.94-.82.82-1.88,1.18-3.06,1.18l-.59-.12c-1.29-.12-2.35-.71-3.06-1.65-.71-1.06-1.06-2.12-1.06-3.3,0-.59.59-4.24,1.77-10.95v-.12c.35-3.06.47-6.12.47-8.94,0-8.24-1.53-15.77-4.71-22.71-3.18-6.94-8.12-12.71-14.71-17.07-6.59-4.35-13.65-7.06-21.18-8.36-2.94-.35-6-.47-9.3-.47-3.53,0-7.3.12-11.3.47-3.88.35-7.41.59-10.47.59-.82,0-1.77-.12-2.94-.35-1.29-.12-2.47-.59-3.65-1.18-1.18-.59-2.12-1.65-2.71-3.06-.24-.71-.35-1.53-.35-2.24,0-1.77.71-3.53,2.24-5.41,1.53-2,3.53-3.88,6.12-5.88,26.83-21.54,63.79-38.72,110.98-51.67,13.77-35.54,33.31-76.74,58.61-123.58l1.53-2.71c1.06-1.65,2.59-2.47,4.35-2.47.82,0,1.41.12,2.12.47,0,.12.12.24.47.35.24.12.47.35.82.71.35.35.59.82.82,1.29.12.47.24.94.24,1.53v.82c0,.47-.24,1.18-.71,2.12l-4.94,9.18-.59.82c-21.66,40.49-38.72,76.62-51.31,108.4,41.9-10.24,81.56-17.18,118.87-20.83,13.3-34.95,30.25-72.26,50.73-111.93.94-1.77,2.35-2.59,4.24-2.59.71,0,1.41.24,2.12.59,1.77.94,2.59,2.24,2.59,4.12,0,.71-.24,1.41-.59,2.24-19.42,37.78-35.66,73.21-48.61,106.51l5.65-.47c9.77-.71,15.54-1.06,17.54-1.06.47,0,1.06,0,1.77.12s1.41.35,2.24.82c.71.47,1.29,1.18,1.65,2.24.24.59.35,1.18.35,1.77s-.24,1.29-.59,2.12c-.35.82-1.18,1.53-2.35,2.12-.59.24-1.29.35-1.88.35l-1.06-.12c-2.71,0-11.77.71-27.07,2-11.3,29.78-20.13,55.55-26.6,77.21-7.41,24.36-12.83,44.25-16.24,59.91-3.53,15.65-5.53,26.36-6.12,32.01,1.18.94,1.77,2.12,1.77,3.65,0,.71-.12,1.41-.47,2.12s-.82,1.53-1.65,2.47c-.82,1.06-2.12,1.65-3.65,1.77-1.88,0-3.41-.82-4.47-2.35ZM128.04,155.88c-42.84,12.36-76.5,28.36-100.86,47.9l-1.53,1.41c10.36-.71,16.24-1.06,17.89-1.06,4,0,7.89.24,11.65.71,15.77,2.71,28.13,9.77,36.96,20.95,3.65,4.71,6.36,10,8.36,15.77,6.59-26.25,15.77-54.73,27.54-85.68Z"></path>
            <path className="st0 svg-elem-2" d="M352.25,222.38c0-11.42,4-28.48,11.89-51.31-5.41,6.47-11.42,13.18-18.12,20.13-22.01,23.07-39.19,34.6-51.43,34.6l-1.88-.12c-2.24-.12-4.59-.82-7.18-2.35-2.71-1.53-5.06-4.24-7.06-8.12-1.53-3.77-2.35-7.65-2.35-11.77,0-2.59.59-6.36,1.65-11.18,1.18-4.83,2.71-9.18,4.59-13.06,3.53-7.53,8.59-15.06,15.18-22.48.35-.47,1.18-1.29,2.35-2.47,1.06-1.06,2.47-2.35,4-3.65,3.88-3.06,7.41-4.59,10.71-4.59.82,0,1.77.24,2.71.59,1.06.35,1.88.82,2.47,1.41,2.12,2.12,3.18,4.59,3.18,7.53,0,2.35-.71,5.06-2.24,8.12-1.88,3.06-4.71,5.77-8.59,8-3.88,2.35-7.65,3.53-11.06,3.53-1.77,0-3.53-.35-5.06-1.18-2.12,3.18-3.77,6.24-5.06,9.06-3.53,8.36-5.3,15.18-5.3,20.83,0,2.71.47,5.06,1.41,7.18.94,2.12,2,3.53,3.18,4.12,1.18.71,2.24,1.06,3.3,1.18h.82c1.77,0,4.35-.59,7.77-1.88,3.41-1.29,8.12-4.24,14.24-8.83s13.77-11.53,22.95-20.95c7.89-8.36,15.06-16.59,21.54-24.48,6.47-7.89,11.18-13.89,14.24-18.01l3.41-8.36c8.71-20.71,17.3-39.54,25.66-56.37,8.36-16.83,14.24-27.89,17.89-33.31,8.83-13.18,16.48-19.77,22.71-19.77l2.12.24c3.88,1.06,6.36,3.3,7.53,6.94.47,1.06.71,2.35.71,4s-.35,4.24-1.06,7.77c-.71,3.41-3.53,9.77-8.36,18.83-4.94,9.06-12.95,21.42-23.89,36.84-9.06,12.48-17.3,23.54-24.95,33.07-7.65,9.53-12.71,15.77-15.06,18.48-7.53,19.18-12.71,34.25-15.65,45.19-2.94,11.06-4.35,19.18-4.47,24.24v1.18c0,4.47.35,7.3,1.18,8.47.35.82.71,1.29,1.18,1.53.35.35.82.47,1.29.59.35.12.71.12,1.18.12,2.24,0,5.88-1.29,10.95-4,5.06-2.71,12.48-9.18,22.48-19.65,6.71-7.41,12.83-14.71,18.36-22.01,5.53-7.18,10-13.18,13.3-17.89l.47-.59c.94-1.29,2.24-2,3.88-2,.82,0,1.77.35,2.82,1.06.94.71,1.53,1.65,1.77,2.94v.59c0,.82-.35,2-1.29,3.53-7.65,10.71-15.77,21.18-24.24,31.42-8.59,10.24-16.95,18.71-25.3,25.42-8.36,6.71-16.12,10.24-23.3,10.47-9.42,0-14.12-6.24-14.12-18.83ZM306,164.24c5.06-2.59,7.53-5.41,7.53-8.36v-.24c-.71.12-1.88.94-3.65,2.24v.12h-.12c-1.29,1.06-2.47,2.12-3.41,3.06-.94,1.06-1.53,1.65-1.77,1.88l-2.35,2.71c1.06-.12,2.24-.59,3.77-1.41ZM414.16,93.62c7.89-11.18,14.12-20.48,18.6-27.89,4.35-7.41,7.53-13.3,9.42-17.65,1.88-4.35,2.94-7.53,3.3-9.65.12-1.06.24-1.88.24-2.47,0-.71,0-1.06-.12-1.29-.12-.24-.12-.47-.24-.59-.12-.12-.24-.12-.59-.24-.12,0-.47.12-1.06.47-.71.35-1.65.94-2.82,1.88-1.29,1.06-2.82,2.59-4.59,4.71-1.88,2.12-4,4.94-6.36,8.47-2.82,4.24-7.41,12.71-13.89,25.42-6.47,12.83-13.53,27.54-20.95,44.14,6.12-7.77,12.48-16.24,19.07-25.3Z"></path>
            <path className="st0 svg-elem-3" d="M420.87,234.5c-1.53-2.94-2.35-6.94-2.35-12,0-14.36,6.47-38.01,19.3-70.85l4.12-10.12c14.24-33.78,26.95-61.2,38.25-82.39,3.65-7.06,6.47-12,8.24-14.83h.12c9.53-14.36,17.18-21.54,22.95-21.54,1.18,0,2.24.24,3.3.82,3.06,1.53,4.71,4.94,4.71,10.24s-1.65,12.24-4.71,21.18c-5.3,14.71-12.95,29.78-23.19,45.19-12.12,18.01-26.01,33.42-41.55,46.14l-3.41,8.71c-7.18,18.48-12.12,32.95-14.71,43.43-2.71,10.47-4,18.12-4,22.83s.47,7.65,1.29,8.83c.59,1.29,1.88,1.88,3.88,1.88,7.06,0,18.12-7.77,32.95-23.3,6.59-7.18,12.71-14.48,18.36-21.77,5.53-7.3,10-13.3,13.3-18.01l.82-.94c.82-1.06,1.53-1.65,2.35-1.77.71-.12,1.29-.24,1.53-.24.82,0,1.77.35,2.59.94,1.06.82,1.65,1.53,1.77,2.35.12.71.24,1.29.24,1.53,0,1.06-.59,2.24-1.65,3.65-3.41,4.83-7.89,10.83-13.65,18.24-5.77,7.41-12,14.95-18.83,22.36-16.12,17.54-29.54,26.36-40.02,26.36-5.53,0-9.53-2.35-12-6.94ZM488.89,86.91c7.89-13.06,13.53-24.83,17.07-35.07,2.82-8.83,4.24-14.71,4.24-17.77l-.12-.94c-1.06.59-2.71,2.24-4.94,4.71s-5.18,6.36-8.83,11.65c-1.18,1.77-3.77,6.47-7.77,14.01-8.36,15.89-18.24,36.6-29.66,62.02,12.12-12.59,22.13-25.42,30.01-38.6Z"></path>
            <path className="st0 svg-elem-4" d="M501.02,212.14c-4.94-1.06-8.24-4.24-10-9.53-.59-2.24-.94-4.71-.94-7.3,0-3.3.47-6.94,1.53-10.95,1.77-6.94,4.83-13.53,9.18-19.77,6.36-8.71,13.42-13.06,21.07-13.06.12-1.77.82-3.3,1.88-4.47s2.47-1.77,3.88-1.77c3.65,0,6.24,3.65,8,11.06.35,1.77.71,4.12.94,7.06,4.47,3.65,9.77,5.41,15.89,5.41,3.77,0,7.3-.94,10.59-2.71.71-.47,1.53-.71,2.35-.71,1.77,0,3.06.71,4,2.24.47.82.71,1.65.71,2.47,0,1.77-.71,3.06-2.24,4-4.83,2.71-9.89,4.12-15.42,4.12-6,0-11.53-1.29-16.59-4-.59,3.88-2,8.12-4,12.71-2.12,4.59-5.18,9.3-9.18,14.24-3.88,4.47-7.53,7.41-10.71,8.94-3.3,1.53-6,2.24-8.24,2.24-1.06,0-1.88-.12-2.71-.24ZM515.49,195.07c4.35-5.3,7.3-10.36,9.06-15.18,1.65-4.71,2.47-8.83,2.59-12.48-1.77-2-3.06-4.24-4-6.71l-.12-.12c-.47.12-1.06.24-1.65.35-4.35.24-8.59,3.3-12.95,9.18-3.41,4.83-5.77,9.53-7.06,14.12-1.29,4.47-1.88,8.12-1.88,10.83,0,5.3,1.41,8,4.12,8,3.41,0,7.41-2.71,11.89-8Z"></path>
            <path className="st0 svg-elem-5" d="M574.58,227.2c-1.06-.94-1.53-1.77-1.53-2.47-.12-.59-.12-1.06-.12-1.18,0-1.06.35-2.12,1.18-3.06,1.29-1.77,2.24-3.41,2.71-5.18.47-1.77.71-3.18.71-4.47,0-1.18,0-1.77-.12-1.88v-.71c0-1.06.35-2,.94-2.94.71-.94,1.65-1.53,2.94-1.77h.71c1.06,0,2,.35,2.94.94.94.71,1.53,1.65,1.77,2.94.12.24.12,1.29.24,3.3,0,2-.35,4.47-1.06,7.3-.82,2.94-2.35,5.77-4.71,8.71-1.06,1.06-2.24,1.53-3.53,1.53-1.06,0-2.12-.35-3.06-1.06Z"></path>
          </svg>
          <p className="introduction">
              <span className="be">BE</span> 개발자 <span className="name">양준우</span>입니다
            </p>
          </div>
        </div>
      </main>
    </div>
  );
};

export default Main;